{% extends 'base.html' %}
{% block content %}
    <div style="padding-top: 0.5rem; padding-left: 1rem;">
        <p>This is your Unique QR Code Sticker</p>
        <p>When someone scans this code, they will be taken to your profile page.</p>
        <p>Click <a href="{% url 'ship_my_sticker' %}">here</a> to have your unique QR Sticker sent to you.</p>
        <div>
            <img src="/media/qr_code/{{ current_user }}.jpg" id="qr_code" alt="..." width="450" class="rounded mb-2 img-thumbnail">
        </div>

        <a class="btn btn-warning" href="{% url 'regenerate_qr_code' %}">Regenerate QR Code</a>
        <a class="btn btn-primary" onclick="printImg('/media/qr_code/{{ current_user }}.jpg')">Print QR Code</a>
    </div>

    <script>
        function printImg(url) {
            var win = window.open('');
            win.document.write('<img src="' + url + '" height="80%" style='+'"' + 'display: block; margin-left: auto; margin-right: auto;'+'" onload="window.print();window.close()" />');
            win.focus();
        }
    </script>

    <style>
        body {
            height: 100%;
            width: 100%;
            background-color: #121212;
            color: #CDD1CC;
        }
        .btn-warning {
            font-weight: bold;
        }
        .btn-primary {
            background-color: #26dda6;
            border-color: #22aa81;
            color: #121212;
            font-weight: bold;
        }
        .btn-primary:hover {
            background-color: rgb(25, 173, 129);
            border-color: #22aa81;
        }
    </style>

{% endblock %}